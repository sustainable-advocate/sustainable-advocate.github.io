<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 750">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3b82f6"/>
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#dc2626"/>
    </marker>
    <marker id="arrowGray" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#6b7280"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="950" height="750" fill="#fafafa"/>

  <!-- Title -->
  <text x="475" y="35" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="#1e293b">CPC Four Pillars: Systems Thinking Causal Loop Diagram</text>
  <text x="475" y="58" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#64748b">Feedback loops and leverage points for Taiwan's energy transition</text>

  <!-- External Driver: Taiwan 2050 Net-Zero -->
  <rect x="350" y="80" width="250" height="45" rx="8" fill="#0f172a" stroke="#334155" stroke-width="2"/>
  <text x="475" y="107" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">TAIWAN 2050 NET-ZERO PATHWAY</text>

  <!-- Carbon Fee Pressure (External) -->
  <rect x="30" y="200" width="120" height="50" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="90" y="222" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#92400e">CARBON FEE</text>
  <text x="90" y="238" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#92400e">TWD 300/ton</text>

  <!-- PILLAR 1: Climate Action -->
  <ellipse cx="200" cy="250" rx="85" ry="50" fill="#2ba8a0" stroke="#1e7a74" stroke-width="3"/>
  <text x="200" y="240" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">PILLAR 1</text>
  <text x="200" y="258" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Climate Action</text>
  <text x="200" y="275" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#b2dfdb">Geothermal + Hydrogen</text>

  <!-- PILLAR 2: Circular Economy -->
  <ellipse cx="475" cy="250" rx="85" ry="50" fill="#22c55e" stroke="#16a34a" stroke-width="3"/>
  <text x="475" y="240" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">PILLAR 2</text>
  <text x="475" y="258" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Circular Economy</text>
  <text x="475" y="275" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#bbf7d0">CCU + Biogas</text>

  <!-- PILLAR 3: Governance -->
  <ellipse cx="475" cy="500" rx="85" ry="50" fill="#3b82f6" stroke="#1d4ed8" stroke-width="3"/>
  <text x="475" y="490" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">PILLAR 3</text>
  <text x="475" y="508" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Governance</text>
  <text x="475" y="525" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#bfdbfe">Green Bonds + Glass Pipeline</text>

  <!-- PILLAR 4: Community -->
  <ellipse cx="750" cy="250" rx="85" ry="50" fill="#f59e0b" stroke="#d97706" stroke-width="3"/>
  <text x="750" y="240" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">PILLAR 4</text>
  <text x="750" y="258" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Community</text>
  <text x="750" y="275" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#fef3c7">Living Labs + Co-design</text>

  <!-- Intermediate Nodes -->
  <!-- Reduced Emissions -->
  <ellipse cx="200" cy="400" rx="65" ry="35" fill="#e0f2fe" stroke="#0284c7" stroke-width="2"/>
  <text x="200" y="396" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#0369a1">Reduced</text>
  <text x="200" y="410" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#0369a1">Emissions</text>

  <!-- Resource Efficiency -->
  <ellipse cx="475" cy="380" rx="65" ry="35" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
  <text x="475" y="376" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#15803d">Resource</text>
  <text x="475" y="390" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#15803d">Efficiency</text>

  <!-- Social License -->
  <ellipse cx="750" cy="400" rx="65" ry="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
  <text x="750" y="396" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#92400e">Social</text>
  <text x="750" y="410" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#92400e">License</text>

  <!-- ESG Rating -->
  <ellipse cx="200" cy="550" rx="55" ry="30" fill="#f3e8ff" stroke="#9333ea" stroke-width="2"/>
  <text x="200" y="546" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#7e22ce">ESG</text>
  <text x="200" y="560" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#7e22ce">Rating</text>

  <!-- Worker Buy-in -->
  <ellipse cx="750" cy="550" rx="55" ry="30" fill="#fce7f3" stroke="#db2777" stroke-width="2"/>
  <text x="750" y="546" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#be185d">Worker</text>
  <text x="750" y="560" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#be185d">Buy-in</text>

  <!-- ARROWS AND CONNECTIONS -->

  <!-- Carbon Fee to Pillar 1 -->
  <path d="M150,225 L125,240" stroke="#6b7280" stroke-width="2" fill="none" marker-end="url(#arrowGray)"/>
  <text x="125" y="218" font-family="Arial, sans-serif" font-size="10" fill="#6b7280">-</text>

  <!-- Taiwan 2050 to Pillars -->
  <path d="M400,125 L220,200" stroke="#6b7280" stroke-width="2" fill="none" marker-end="url(#arrowGray)"/>
  <path d="M475,125 L475,195" stroke="#6b7280" stroke-width="2" fill="none" marker-end="url(#arrowGray)"/>
  <path d="M550,125 L730,200" stroke="#6b7280" stroke-width="2" fill="none" marker-end="url(#arrowGray)"/>

  <!-- Pillar 1 to Pillar 2 -->
  <path d="M285,250 L385,250" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="335" y="240" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Pillar 2 to Pillar 4 -->
  <path d="M560,250 L660,250" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="610" y="240" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Pillar 1 to Reduced Emissions -->
  <path d="M200,300 L200,360" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="210" y="335" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Pillar 2 to Resource Efficiency -->
  <path d="M475,300 L475,340" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="485" y="325" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Pillar 4 to Social License -->
  <path d="M750,300 L750,360" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="760" y="335" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Resource Efficiency to Pillar 3 -->
  <path d="M475,415 L475,445" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="485" y="435" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Reduced Emissions to ESG -->
  <path d="M200,435 L200,515" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="210" y="475" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- ESG to Pillar 3 (Green Bonds) -->
  <path d="M255,550 L385,510" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="310" y="520" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Pillar 3 to Pillar 1 (funding loop) -->
  <path d="M400,470 C300,420 250,350 200,300" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)" stroke-dasharray="5,3"/>
  <text x="280" y="380" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Social License to Pillar 3 -->
  <path d="M695,420 L545,480" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="620" y="440" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Social License to Worker Buy-in -->
  <path d="M750,435 L750,515" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="760" y="475" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- Worker Buy-in back to Pillar 4 -->
  <path d="M795,535 C850,500 870,350 790,280" stroke="#3b82f6" stroke-width="2.5" fill="none" marker-end="url(#arrowBlue)" stroke-dasharray="5,3"/>
  <text x="850" y="400" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3b82f6">+</text>

  <!-- BALANCING LOOP: Carbon Fee -->
  <path d="M90,255 C60,350 80,450 160,400" stroke="#dc2626" stroke-width="2.5" fill="none" marker-end="url(#arrowRed)"/>
  <text x="70" y="350" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#dc2626">-</text>

  <!-- FEEDBACK LOOP LABELS -->

  <!-- R1: Green Investment Loop -->
  <rect x="30" y="480" width="130" height="45" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="95" y="498" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#1e40af">R1</text>
  <text x="95" y="514" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#1e40af">Green Investment</text>
  <text x="95" y="526" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#3b82f6" font-style="italic">reinforcing loop</text>

  <!-- R2: Social License Loop -->
  <rect x="820" y="350" width="110" height="45" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="875" y="368" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#1e40af">R2</text>
  <text x="875" y="384" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#1e40af">Social License</text>
  <text x="875" y="396" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#3b82f6" font-style="italic">reinforcing loop</text>

  <!-- B1: Carbon Pressure -->
  <rect x="30" y="350" width="110" height="45" rx="6" fill="#fee2e2" stroke="#dc2626" stroke-width="2"/>
  <text x="85" y="368" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#991b1b">B1</text>
  <text x="85" y="384" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#991b1b">Carbon Pressure</text>
  <text x="85" y="396" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#dc2626" font-style="italic">balancing loop</text>

  <!-- LEVERAGE POINTS -->

  <!-- L1: Carbon Fee -->
  <circle cx="90" cy="175" r="15" fill="#fbbf24" stroke="#b45309" stroke-width="2"/>
  <text x="90" y="180" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#78350f">L1</text>
  <text x="90" y="155" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#92400e">Leverage Point</text>

  <!-- L2: Green Skills -->
  <circle cx="750" cy="620" r="15" fill="#fbbf24" stroke="#b45309" stroke-width="2"/>
  <text x="750" y="625" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#78350f">L2</text>
  <text x="750" y="645" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#92400e">Green Skills Fund</text>

  <!-- L3: Glass Pipeline -->
  <circle cx="475" cy="580" r="15" fill="#fbbf24" stroke="#b45309" stroke-width="2"/>
  <text x="475" y="585" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#78350f">L3</text>
  <text x="475" y="605" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#92400e">Glass Pipeline Protocol</text>

  <!-- L4: Living Labs -->
  <circle cx="850" cy="250" r="15" fill="#fbbf24" stroke="#b45309" stroke-width="2"/>
  <text x="850" y="255" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#78350f">L4</text>
  <text x="890" y="240" font-family="Arial, sans-serif" font-size="8" text-anchor="start" fill="#92400e">Living Labs</text>

  <!-- LEGEND -->
  <rect x="30" y="650" width="890" height="85" rx="8" fill="white" stroke="#e2e8f0" stroke-width="2"/>
  <text x="475" y="672" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#334155">LEGEND</text>

  <!-- Legend items -->
  <line x1="60" y1="695" x2="100" y2="695" stroke="#3b82f6" stroke-width="3"/>
  <text x="110" y="699" font-family="Arial, sans-serif" font-size="10" fill="#334155">Reinforcing connection (+)</text>

  <line x1="250" y1="695" x2="290" y2="695" stroke="#dc2626" stroke-width="3"/>
  <text x="300" y="699" font-family="Arial, sans-serif" font-size="10" fill="#334155">Balancing connection (-)</text>

  <line x1="440" y1="695" x2="480" y2="695" stroke="#3b82f6" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="490" y="699" font-family="Arial, sans-serif" font-size="10" fill="#334155">Feedback loop</text>

  <circle cx="620" cy="695" r="10" fill="#fbbf24" stroke="#b45309" stroke-width="1.5"/>
  <text x="635" y="699" font-family="Arial, sans-serif" font-size="10" fill="#334155">Leverage point (intervention)</text>

  <rect x="780" y="685" width="20" height="20" rx="3" fill="#dbeafe" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="810" y="699" font-family="Arial, sans-serif" font-size="10" fill="#334155">R = Reinforcing</text>

  <rect x="780" y="710" width="20" height="20" rx="3" fill="#fee2e2" stroke="#dc2626" stroke-width="1.5"/>
  <text x="810" y="724" font-family="Arial, sans-serif" font-size="10" fill="#334155">B = Balancing</text>
</svg>